{# DO NOT AUTO INDENT #}
{% extends 'base/base.html' %}
{% load static %}
{% load custom_tags %}
{% block title %}
Customize Report
{% endblock title %}

{% block custom_js_css_link %}
<link rel="stylesheet" type="text/css" href="{% static 'assets/css/custom.css' %}">
<link href="{% static 'assets/css/forms/switches.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'assets/css/forms/theme-checkbox-radio.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'assets/css/users/account-setting.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'plugins/editors/markdown/simplemde.min.css' %}" rel="stylesheet" type="text/css" />
{% endblock custom_js_css_link %}

{% block breadcrumb_title %}
<li class="breadcrumb-item"><a href="#">Settings</a></li>
<li class="breadcrumb-item active">Customize Report</li>
{% endblock breadcrumb_title %}

{% block main_content %}
<div class="statbox widget box box-shadow">
  <div class="widget-header">
    <div class="row h-100 justify-content-center align-items-center">
      <div class="col-xl-12 col-md-12 col-sm-12 col-12">
        <h4>Customize Report</h4>
      </div>
    </div>
  </div>
  <div class="widget-content widget-content-area">
    <p>
      This section can be used to customize the Vulnerability/Reconnaissance report.
    </p>
    <b class="text-primary">Report Generated by:</b>
    <form method="post">
      {% csrf_token %}
      <div class="row mt-4 mb-4">
        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12">
          {{form.company_name}}
        </div>
        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12">
          {{form.company_address}}
        </div>
      </div>
      <div class="row mt-4 mb-4">
        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12">
          {{form.company_website}}
        </div>
        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12">
          {{form.company_email}}
        </div>
      </div>
      <div class="row mt-4 mb-4">
        <div class="col-12">
          <div class="n-chk">
            <span class="text-primary new-chk-content font-weight-bold">Show Footer Text?&nbsp;&nbsp;</span>
            <label class="new-control new-checkbox new-checkbox-text checkbox-primary">
              {{form.show_footer}}
              <span class="new-control-indicator"></span>
              <span class="text-primary new-chk-content font-weight-bold">&nbsp;&nbsp;&nbsp;&nbsp;</span>
            </label>
            <p>This could be copyright text, or year of generation. The placement for footer text is bottom left.</p>
            <div class="input-group mb-4">
              {{form.footer_text}}
            </div>
          </div>
        </div>
      </div>
      <div class="row mt-4 mb-4">
        <div class="col-12">
          <div class="n-chk">
            <span class="text-primary new-chk-content font-weight-bold">Show reNgine Banner/Credits?&nbsp;&nbsp;</span>
            <label class="new-control new-checkbox new-checkbox-text checkbox-primary">
              {{form.show_rengine_banner}}
              <span class="new-control-indicator"></span>
              <span class="text-primary new-chk-content font-weight-bold">&nbsp;&nbsp;&nbsp;&nbsp;</span>
            </label>
            <br>
            <span class="text-dark">If turned on, the report will contain 'Generated by reNgine'.</span>
          </div>
        </div>
      </div>
      <div class="row mt-4 mb-4">
        <div class="col-12">
          <div class="n-chk">
            <span class="text-primary new-chk-content font-weight-bold">Show Executive Summary?&nbsp;&nbsp;</span>
            <label class="new-control new-checkbox new-checkbox-text checkbox-primary">
              {{form.show_rengine_banner}}
              <span class="new-control-indicator"></span>
              <span class="text-primary new-chk-content font-weight-bold">&nbsp;&nbsp;&nbsp;&nbsp;</span>
            </label>
            <br>
            <p>If turned on, reNgine will include Executive Summary in the report. You can customize the executive summary.</p>
            <p>You can customize the executive summary and methodology template using markdown. Replace the below syntax wherever you require. Curly braces are must!</p>
            <ul>
              <li class="text-dark"><span class="badge badge-dark mt-2">{this_year}</span> Current Year.</li>
              <li class="text-dark"><span class="badge badge-dark mt-2">{this_month}</span> Current Month.</li>
              <li class="text-dark"><span class="badge badge-dark mt-2">{company_name}</span> Company which performed Vulnerability/Reconnaissance Audit.</li>
              <li class="text-dark"><span class="badge badge-dark mt-2">{target}</span> Target Domain.</li>
              <li class="text-dark"><span class="badge badge-dark mt-2">{subdomains_count}</span> Total number of subdomains discovered.</li>
              <li class="text-dark"><span class="badge badge-dark mt-2">{vulnerability_count}</span> Total number of Vulnerabilities identified.</li>
              <li class="text-dark"><span class="badge badge-dark mt-2">{vulnerability_reference}</span> Additional Reference to vulnerability.</li>
            </ul>
            <br>
            {{form.executive_summary}}
          </div>
        </div>
      </div>

      <input type="submit" value="Save Report Settings" class="btn btn-primary float-right">
    </form>
  </div>
</div>
{% endblock main_content %}


{% block page_level_script %}
<script src="{% static 'plugins/editors/markdown/simplemde.min.js' %}"></script>
<script src="{% static 'custom/custom.js' %}"></script>
<script type="text/javascript">
new SimpleMDE({
  element: document.getElementById("executive_summary"),
  toolbar: ["preview", "bold", "italic", "heading", "heading-2", "unordered-list", "link" ,"|", "code" ,"|", "quote", "|", "guide"],
  spellChecker: false,
});
</script>
{% endblock page_level_script %}
